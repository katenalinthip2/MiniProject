(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,a){},27:function(e,t,a){e.exports=a(45)},32:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t),a.d(t,"firestore",(function(){return y}));var n=a(0),l=a.n(n),c=a(24),o=a.n(c);a(32),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(9),i=a(10),s=a(20),m=a(5),u=(a(12),a(46),a(33),a(8)),d=a.n(u);d.a.initializeApp({apiKey:"AIzaSyDcBpE1SygJcrXDmngTXW2BT8vCtPUTB0s",authDomain:"loginminipro.firebaseapp.com",databaseURL:"https://loginminipro.firebaseio.com",projectId:"loginminipro",storageBucket:"loginminipro.appspot.com",messagingSenderId:"951579270707",appId:"1:951579270707:web:3dea7e69aeb1e2129d8d46",measurementId:"G-62CS4P3CG4"});d.a.storage();var p=d.a.auth(),g=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(m.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)(""),i=Object(m.a)(r,2),u=i[0],p=i[1];return l.a.createElement("form",{className:"App-header2"},l.a.createElement("p",{className:"Log"}," SIGN IN or SIGN UP "),l.a.createElement("div",{className:"from-group"},l.a.createElement("label",{className:"App-Log"}," Email "),l.a.createElement("input",{style:{width:400},type:"email",className:"form-control",name:"email",onChange:function(e){return o(Object(s.a)({},c,{email:e.target.value}))},placeholder:"Email"}),l.a.createElement("label",{className:"App-Log"}," Password "),l.a.createElement("input",{style:{width:400},type:"password",className:"form-control",name:"password",onChange:function(e){return o(Object(s.a)({},c,{password:e.target.value}))},placeholder:"Password"}),l.a.createElement("p",null," ",u),l.a.createElement("div",{className:"container"},l.a.createElement("button",{className:"Sn",onClick:function(t){t.preventDefault(),console.log("test"),d.a.auth().signInWithEmailAndPassword(c.email,c.password).then((function(t){e.history.push("/Collects")})).catch((function(e){p(e.message)}))}},"Sign In"),l.a.createElement("button",{className:"Su",onClick:function(e){e.preventDefault(),d.a.auth().createUserWithEmailAndPassword(c.email,c.password).then((function(e){})).catch((function(e){p(e.message)}))}},"Sign Up"))))},f=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement(r.b,{className:"nav-link",to:"/"}," Home "),l.a.createElement(r.b,{className:"nav-link",to:"/Collects"}," MyCollect "),l.a.createElement(r.b,{className:"nav-link",to:"/"}," Logout ")))},E=(a(39),a(40),function(e){var t=e.collect,a=t.id,n=t.name,c=t.url,o=t.count;return l.a.createElement("div",null,l.a.createElement("h6",{className:"num"}," Number of pieces : ",o," "),l.a.createElement("div",{className:"count"},l.a.createElement("button",{className:"add ",onClick:function(){y.collection("collects").doc(a+"").set({id:a,name:n,url:c,count:o+1})}}," + "),l.a.createElement("button",{className:"add ",onClick:function(){y.collection("collects").doc(a+"").set({id:a,name:n,url:c,count:o-1})}}," - ")))}),h=function(e){var t=e.collect,a=e.editCollect,n=e.deleteCollect,c=t.id,o=t.name,r=t.url;return l.a.createElement("li",null,l.a.createElement("div",{className:"id"}," ",c," "),l.a.createElement("img",{className:"img",src:r,alt:"image"}),l.a.createElement("div",{className:"name"}," ",o," "),l.a.createElement("div",{className:"container"},l.a.createElement("button",{className:"red",onClick:function(){return n(c)}}," Delete "),l.a.createElement("button",{className:"green",onClick:function(){return a(c)}}," Edit ")),l.a.createElement(E,{collect:t}))},v=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(m.a)(o,2),i=(r[0],r[1]),s=Object(n.useState)(0),u=Object(m.a)(s,2),p=u[0],g=u[1],f=Object(n.useState)(""),E=Object(m.a)(f,2),h=E[0],v=E[1];return l.a.createElement("div",null,l.a.createElement("input",{className:"file",type:"file",onChange:function(e){var t=e.target.files[0];if(t){var a=t.type;["image/gif","image/jpeg","image/png","image/jpg"].includes(a)?(v('Please click Button "Upload" before click Button "AddCollection"'),c(t)):(console.log("error"),v("Please select an image to upload"))}}})," ","",l.a.createElement("button",{className:"upload",onClick:function(){null!=a?d.a.storage().ref("images/".concat(a.name)).put(a).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);g(t)}),(function(e){console.log(e),v(e)}),(function(){d.a.storage().ref("images").child(a.name).getDownloadURL().then((function(e){console.log(e),i(e),localStorage.setItem("url",e),g(0)}))})):v("err")}}," Upload"),l.a.createElement("div",{style:{height:"10px"}},p>0?l.a.createElement("progress",{value:p,max:"100"}):"",l.a.createElement("p",{style:{color:"red"}}," ",h," "))," ")},b=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(m.a)(o,2),i=r[0],s=r[1];Object(n.useEffect)((function(){u()}),[]);var u=function(){y.collection("collects").onSnapshot((function(e){console.log(e.docs);var t=e.docs.map((function(e){var t=e.data(),a=t.id,n=t.name,l=t.url,c=t.count;return console.log(a,n,l,c),{id:a,name:n,url:l,count:c}}));c(t)}))},d=function(e){y.collection("collects").doc(e+"").delete()},p=function(e){var t=localStorage.getItem("url");y.collection("collects").doc(e+"").set({id:e,name:i,url:t})};return l.a.createElement("div",{style:{width:"100",height:"100%"}},l.a.createElement(f,null),l.a.createElement("div",{className:"App-header"},l.a.createElement("h1",{className:"H1"}," My Collections "),l.a.createElement("input",{className:"Input-App",type:"text",name:"name",onChange:function(e){return s(e.target.value)}}),l.a.createElement(v,null),l.a.createElement("button",{className:"Button",onClick:function(){var e=0===a.length?1:a[a.length-1].id+1,t=localStorage.getItem("url");y.collection("collects").doc(e+"").set({id:e,name:i,url:t,count:0})}}," AddCollect "),l.a.createElement("ul",{style:{display:"flex",listStyle:"none"}},a&&a.length?a.map((function(e,t){return console.log("im in app",e.url),l.a.createElement(h,{key:t,collect:e,deleteCollect:d,editCollect:p})})):l.a.createElement("div",{className:"No"}," No Collection "))))},N=function(){return l.a.createElement("div",{className:"home"},l.a.createElement("p",null," Welcome to My Collections"),l.a.createElement(r.b,{className:"home-button",to:"/Login"}," Get Start "))},C=function(){return l.a.createElement(r.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/Collects",exact:!0,component:b}),l.a.createElement(i.a,{path:"/Login",exact:!0,component:g}),l.a.createElement(i.a,{path:"/",exact:!0,component:N})))};a(41),a(42);0===d.a.apps.length&&d.a.initializeApp(p);var y=d.a.firestore();o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.8f855868.chunk.js.map